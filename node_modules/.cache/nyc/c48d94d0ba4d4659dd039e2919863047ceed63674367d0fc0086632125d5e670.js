"use strict";var cov_2i9k0myz45=function(){var path="/Users/steven.mchenry/dev/training/book-app/api/server/src/models/index.js";var hash="7eae3c9c3e2a8960a811113a9b52edd5115266e7";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/steven.mchenry/dev/training/book-app/api/server/src/models/index.js",statementMap:{"0":{start:{line:3,column:29},end:{line:3,column:84}},"1":{start:{line:5,column:0},end:{line:7,column:3}},"2":{start:{line:8,column:0},end:{line:8,column:28}},"3":{start:{line:10,column:10},end:{line:10,column:47}},"4":{start:{line:12,column:12},end:{line:12,column:51}},"5":{start:{line:14,column:17},end:{line:14,column:61}},"6":{start:{line:16,column:14},end:{line:16,column:65}},"7":{start:{line:18,column:15},end:{line:18,column:52}},"8":{start:{line:20,column:10},end:{line:20,column:69}},"9":{start:{line:21,column:13},end:{line:21,column:36}},"10":{start:{line:22,column:0},end:{line:22,column:46}},"11":{start:{line:23,column:9},end:{line:23,column:11}},"12":{start:{line:26,column:0},end:{line:40,column:1}},"13":{start:{line:27,column:2},end:{line:27,column:86}},"14":{start:{line:28,column:2},end:{line:37,column:5}},"15":{start:{line:39,column:2},end:{line:39,column:99}},"16":{start:{line:42,column:0},end:{line:47,column:3}},"17":{start:{line:43,column:2},end:{line:43,column:82}},"18":{start:{line:45,column:14},end:{line:45,column:73}},"19":{start:{line:46,column:2},end:{line:46,column:25}},"20":{start:{line:49,column:0},end:{line:53,column:3}},"21":{start:{line:50,column:2},end:{line:52,column:3}},"22":{start:{line:51,column:4},end:{line:51,column:32}},"23":{start:{line:54,column:0},end:{line:54,column:25}},"24":{start:{line:55,column:0},end:{line:55,column:37}},"25":{start:{line:56,column:15},end:{line:56,column:17}},"26":{start:{line:57,column:0},end:{line:57,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:42,column:45},end:{line:42,column:46}},loc:{start:{line:42,column:61},end:{line:44,column:1}},line:42},"1":{name:"(anonymous_1)",decl:{start:{line:44,column:11},end:{line:44,column:12}},loc:{start:{line:44,column:27},end:{line:47,column:1}},line:44},"2":{name:"(anonymous_2)",decl:{start:{line:49,column:24},end:{line:49,column:25}},loc:{start:{line:49,column:45},end:{line:53,column:1}},line:49}},branchMap:{"0":{loc:{start:{line:20,column:10},end:{line:20,column:69}},type:"cond-expr",locations:[{start:{line:20,column:33},end:{line:20,column:53}},{start:{line:20,column:56},end:{line:20,column:69}}],line:20},"1":{loc:{start:{line:26,column:0},end:{line:40,column:1}},type:"if",locations:[{start:{line:26,column:0},end:{line:40,column:1}},{start:{line:26,column:0},end:{line:40,column:1}}],line:26},"2":{loc:{start:{line:43,column:9},end:{line:43,column:81}},type:"binary-expr",locations:[{start:{line:43,column:9},end:{line:43,column:32}},{start:{line:43,column:36},end:{line:43,column:53}},{start:{line:43,column:57},end:{line:43,column:81}}],line:43},"3":{loc:{start:{line:50,column:2},end:{line:52,column:3}},type:"if",locations:[{start:{line:50,column:2},end:{line:52,column:3}},{start:{line:50,column:2},end:{line:52,column:3}}],line:50}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0],"2":[0,0,0],"3":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"7eae3c9c3e2a8960a811113a9b52edd5115266e7"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();var _interopRequireDefault=(cov_2i9k0myz45.s[0]++,require("@babel/runtime/helpers/interopRequireDefault"));cov_2i9k0myz45.s[1]++;Object.defineProperty(exports,"__esModule",{value:true});cov_2i9k0myz45.s[2]++;exports["default"]=void 0;var _fs=(cov_2i9k0myz45.s[3]++,_interopRequireDefault(require("fs")));var _path=(cov_2i9k0myz45.s[4]++,_interopRequireDefault(require("path")));var _sequelize=(cov_2i9k0myz45.s[5]++,_interopRequireDefault(require("sequelize")));var _config=(cov_2i9k0myz45.s[6]++,_interopRequireDefault(require("../config/config")));var basename=(cov_2i9k0myz45.s[7]++,_path["default"].basename(__filename));var env=(cov_2i9k0myz45.s[8]++,process.env.NODE_ENV?(cov_2i9k0myz45.b[0][0]++,process.env.NODE_ENV):(cov_2i9k0myz45.b[0][1]++,'development'));var config=(cov_2i9k0myz45.s[9]++,_config["default"][env]);cov_2i9k0myz45.s[10]++;console.log('this is the environment: ',env);var db=(cov_2i9k0myz45.s[11]++,{});var sequelize;cov_2i9k0myz45.s[12]++;if(config.environment==='production'){cov_2i9k0myz45.b[1][0]++;cov_2i9k0myz45.s[13]++;sequelize=new _sequelize["default"](process.env[config.use_env_variable],config);cov_2i9k0myz45.s[14]++;sequelize=new _sequelize["default"](process.env.DB_NAME,process.env.DB_USER,process.env.DB_PASS,{host:process.env.DB_HOST,port:process.env.DB_PORT,dialect:'postgres',dialectOption:{ssl:true,"native":true},logging:true});}else{cov_2i9k0myz45.b[1][1]++;cov_2i9k0myz45.s[15]++;sequelize=new _sequelize["default"](config.database,config.username,config.password,config);}cov_2i9k0myz45.s[16]++;_fs["default"].readdirSync(__dirname).filter(function(file){cov_2i9k0myz45.f[0]++;cov_2i9k0myz45.s[17]++;return(cov_2i9k0myz45.b[2][0]++,file.indexOf('.')!==0)&&(cov_2i9k0myz45.b[2][1]++,file!==basename)&&(cov_2i9k0myz45.b[2][2]++,file.slice(-3)==='.js');}).forEach(function(file){cov_2i9k0myz45.f[1]++;var model=(cov_2i9k0myz45.s[18]++,sequelize["import"](_path["default"].join(__dirname,file)));cov_2i9k0myz45.s[19]++;db[model.name]=model;});cov_2i9k0myz45.s[20]++;Object.keys(db).forEach(function(modelName){cov_2i9k0myz45.f[2]++;cov_2i9k0myz45.s[21]++;if(db[modelName].associate){cov_2i9k0myz45.b[3][0]++;cov_2i9k0myz45.s[22]++;db[modelName].associate(db);}else{cov_2i9k0myz45.b[3][1]++;}});cov_2i9k0myz45.s[23]++;db.sequelize=sequelize;cov_2i9k0myz45.s[24]++;db.Sequelize=_sequelize["default"];var _default=(cov_2i9k0myz45.s[25]++,db);cov_2i9k0myz45.s[26]++;exports["default"]=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImJhc2VuYW1lIiwicGF0aCIsIl9fZmlsZW5hbWUiLCJlbnYiLCJwcm9jZXNzIiwiTk9ERV9FTlYiLCJjb25maWciLCJjb25maWdKc29uIiwiY29uc29sZSIsImxvZyIsImRiIiwic2VxdWVsaXplIiwiZW52aXJvbm1lbnQiLCJTZXF1ZWxpemUiLCJ1c2VfZW52X3ZhcmlhYmxlIiwiREJfTkFNRSIsIkRCX1VTRVIiLCJEQl9QQVNTIiwiaG9zdCIsIkRCX0hPU1QiLCJwb3J0IiwiREJfUE9SVCIsImRpYWxlY3QiLCJkaWFsZWN0T3B0aW9uIiwic3NsIiwibG9nZ2luZyIsImRhdGFiYXNlIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImZzIiwicmVhZGRpclN5bmMiLCJfX2Rpcm5hbWUiLCJmaWx0ZXIiLCJmaWxlIiwiaW5kZXhPZiIsInNsaWNlIiwiZm9yRWFjaCIsIm1vZGVsIiwiam9pbiIsIm5hbWUiLCJPYmplY3QiLCJrZXlzIiwibW9kZWxOYW1lIiwiYXNzb2NpYXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxJQUFNQSxRQUFRLEdBQUdDLGlCQUFLRCxRQUFMLENBQWNFLFVBQWQsQ0FBakI7O0FBQ0EsSUFBTUMsR0FBRyxHQUFHQyxPQUFPLENBQUNELEdBQVIsQ0FBWUUsUUFBWixHQUF1QkQsT0FBTyxDQUFDRCxHQUFSLENBQVlFLFFBQW5DLEdBQThDLGFBQTFEO0FBRUEsSUFBTUMsTUFBTSxHQUFHQyxtQkFBV0osR0FBWCxDQUFmO0FBRUFLLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDJCQUFaLEVBQXlDTixHQUF6QztBQUVBLElBQU1PLEVBQUUsR0FBRyxFQUFYO0FBRUEsSUFBSUMsU0FBSjs7QUFDQSxJQUFJTCxNQUFNLENBQUNNLFdBQVAsS0FBdUIsWUFBM0IsRUFBeUM7QUFDdkNELEVBQUFBLFNBQVMsR0FBRyxJQUFJRSxxQkFBSixDQUNWVCxPQUFPLENBQUNELEdBQVIsQ0FBWUcsTUFBTSxDQUFDUSxnQkFBbkIsQ0FEVSxFQUM0QlIsTUFENUIsQ0FBWjtBQUdBSyxFQUFBQSxTQUFTLEdBQUcsSUFBSUUscUJBQUosQ0FDVlQsT0FBTyxDQUFDRCxHQUFSLENBQVlZLE9BREYsRUFFVlgsT0FBTyxDQUFDRCxHQUFSLENBQVlhLE9BRkYsRUFHVlosT0FBTyxDQUFDRCxHQUFSLENBQVljLE9BSEYsRUFHVztBQUNuQkMsSUFBQUEsSUFBSSxFQUFFZCxPQUFPLENBQUNELEdBQVIsQ0FBWWdCLE9BREM7QUFFbkJDLElBQUFBLElBQUksRUFBRWhCLE9BQU8sQ0FBQ0QsR0FBUixDQUFZa0IsT0FGQztBQUduQkMsSUFBQUEsT0FBTyxFQUFFLFVBSFU7QUFJbkJDLElBQUFBLGFBQWEsRUFBRTtBQUNiQyxNQUFBQSxHQUFHLEVBQUUsSUFEUTtBQUViLGdCQUFRO0FBRkssS0FKSTtBQVFuQkMsSUFBQUEsT0FBTyxFQUFFO0FBUlUsR0FIWCxDQUFaO0FBY0QsQ0FsQkQsTUFrQk87QUFDTGQsRUFBQUEsU0FBUyxHQUFHLElBQUlFLHFCQUFKLENBQ1ZQLE1BQU0sQ0FBQ29CLFFBREcsRUFDT3BCLE1BQU0sQ0FBQ3FCLFFBRGQsRUFDd0JyQixNQUFNLENBQUNzQixRQUQvQixFQUN5Q3RCLE1BRHpDLENBQVo7QUFHRDs7QUFFRHVCLGVBQ0dDLFdBREgsQ0FDZUMsU0FEZixFQUVHQyxNQUZILENBRVUsVUFBQ0MsSUFBRCxFQUFVO0FBQ2hCLFNBQVFBLElBQUksQ0FBQ0MsT0FBTCxDQUFhLEdBQWIsTUFBc0IsQ0FBdkIsSUFDSkQsSUFBSSxLQUFLakMsUUFETCxJQUNtQmlDLElBQUksQ0FBQ0UsS0FBTCxDQUFXLENBQUMsQ0FBWixNQUFtQixLQUQ3QztBQUVELENBTEgsRUFNR0MsT0FOSCxDQU1XLFVBQUNILElBQUQsRUFBVTtBQUNqQixNQUFNSSxLQUFLLEdBQUcxQixTQUFTLFVBQVQsQ0FBaUJWLGlCQUFLcUMsSUFBTCxDQUFVUCxTQUFWLEVBQXFCRSxJQUFyQixDQUFqQixDQUFkO0FBQ0F2QixFQUFBQSxFQUFFLENBQUMyQixLQUFLLENBQUNFLElBQVAsQ0FBRixHQUFpQkYsS0FBakI7QUFDRCxDQVRIOztBQVdBRyxNQUFNLENBQUNDLElBQVAsQ0FBWS9CLEVBQVosRUFBZ0IwQixPQUFoQixDQUF3QixVQUFDTSxTQUFELEVBQWU7QUFDckMsTUFBSWhDLEVBQUUsQ0FBQ2dDLFNBQUQsQ0FBRixDQUFjQyxTQUFsQixFQUE2QjtBQUMzQmpDLElBQUFBLEVBQUUsQ0FBQ2dDLFNBQUQsQ0FBRixDQUFjQyxTQUFkLENBQXdCakMsRUFBeEI7QUFDRDtBQUNGLENBSkQ7QUFNQUEsRUFBRSxDQUFDQyxTQUFILEdBQWVBLFNBQWY7QUFDQUQsRUFBRSxDQUFDRyxTQUFILEdBQWVBLHFCQUFmO2VBRWVILEUiLCJzb3VyY2VSb290IjoiL1VzZXJzL3N0ZXZlbi5tY2hlbnJ5L2Rldi90cmFpbmluZy9ib29rLWFwcC9hcGkvc2VydmVyL3NyYy9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgU2VxdWVsaXplIGZyb20gJ3NlcXVlbGl6ZSc7XG5pbXBvcnQgY29uZmlnSnNvbiBmcm9tICcuLi9jb25maWcvY29uZmlnJztcblxuY29uc3QgYmFzZW5hbWUgPSBwYXRoLmJhc2VuYW1lKF9fZmlsZW5hbWUpO1xuY29uc3QgZW52ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBwcm9jZXNzLmVudi5OT0RFX0VOViA6ICdkZXZlbG9wbWVudCc7XG5cbmNvbnN0IGNvbmZpZyA9IGNvbmZpZ0pzb25bZW52XTtcblxuY29uc29sZS5sb2coJ3RoaXMgaXMgdGhlIGVudmlyb25tZW50OiAnLCBlbnYpO1xuXG5jb25zdCBkYiA9IHt9O1xuXG5sZXQgc2VxdWVsaXplO1xuaWYgKGNvbmZpZy5lbnZpcm9ubWVudCA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUoXG4gICAgcHJvY2Vzcy5lbnZbY29uZmlnLnVzZV9lbnZfdmFyaWFibGVdLCBjb25maWdcbiAgKTtcbiAgc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZShcbiAgICBwcm9jZXNzLmVudi5EQl9OQU1FLFxuICAgIHByb2Nlc3MuZW52LkRCX1VTRVIsXG4gICAgcHJvY2Vzcy5lbnYuREJfUEFTUywge1xuICAgICAgaG9zdDogcHJvY2Vzcy5lbnYuREJfSE9TVCxcbiAgICAgIHBvcnQ6IHByb2Nlc3MuZW52LkRCX1BPUlQsXG4gICAgICBkaWFsZWN0OiAncG9zdGdyZXMnLFxuICAgICAgZGlhbGVjdE9wdGlvbjoge1xuICAgICAgICBzc2w6IHRydWUsXG4gICAgICAgIG5hdGl2ZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGxvZ2dpbmc6IHRydWVcbiAgICB9XG4gICk7XG59IGVsc2Uge1xuICBzZXF1ZWxpemUgPSBuZXcgU2VxdWVsaXplKFxuICAgIGNvbmZpZy5kYXRhYmFzZSwgY29uZmlnLnVzZXJuYW1lLCBjb25maWcucGFzc3dvcmQsIGNvbmZpZ1xuICApO1xufVxuXG5mc1xuICAucmVhZGRpclN5bmMoX19kaXJuYW1lKVxuICAuZmlsdGVyKChmaWxlKSA9PiB7XG4gICAgcmV0dXJuIChmaWxlLmluZGV4T2YoJy4nKSAhPT0gMCkgJiZcbiAgICAgIChmaWxlICE9PSBiYXNlbmFtZSkgJiYgKGZpbGUuc2xpY2UoLTMpID09PSAnLmpzJyk7XG4gIH0pXG4gIC5mb3JFYWNoKChmaWxlKSA9PiB7XG4gICAgY29uc3QgbW9kZWwgPSBzZXF1ZWxpemUuaW1wb3J0KHBhdGguam9pbihfX2Rpcm5hbWUsIGZpbGUpKTtcbiAgICBkYlttb2RlbC5uYW1lXSA9IG1vZGVsO1xuICB9KTtcblxuT2JqZWN0LmtleXMoZGIpLmZvckVhY2goKG1vZGVsTmFtZSkgPT4ge1xuICBpZiAoZGJbbW9kZWxOYW1lXS5hc3NvY2lhdGUpIHtcbiAgICBkYlttb2RlbE5hbWVdLmFzc29jaWF0ZShkYik7XG4gIH1cbn0pO1xuXG5kYi5zZXF1ZWxpemUgPSBzZXF1ZWxpemU7XG5kYi5TZXF1ZWxpemUgPSBTZXF1ZWxpemU7XG5cbmV4cG9ydCBkZWZhdWx0IGRiOyJdfQ==